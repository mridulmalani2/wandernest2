# ==================================
# MINIMAL .env FOR VERCEL DEPLOYMENT
# ==================================
# Copy these variables to Vercel's Environment Variables settings.
# Lines marked "REQUIRED" must be filled in. All others have defaults or are optional.

# ==================================
# üî¥ REQUIRED - Database (BUILD-TIME + RUNTIME)
# ==================================
# PostgreSQL connection string from your database provider
# For Vercel Postgres: Auto-configured when you connect Vercel Postgres to your project
# For external (Supabase, Neon, Railway): Copy connection string from provider
#
# ‚ö†Ô∏è CRITICAL: This must be available during BOTH build and runtime
# - Build: Used by Prisma for client generation and migrations
# - Runtime: Used by application for database operations
# In Vercel, ensure this is set for your deployment environment
DATABASE_URL="postgresql://user:password@hostname:5432/database?sslmode=require"

# ==================================
# üî¥ REQUIRED - Authentication
# ==================================
# NextAuth secret - generate with: openssl rand -base64 32
# CRITICAL: Generate a unique random string, never use the example value
NEXTAUTH_SECRET="your-nextauth-secret-change-this-in-production"

# Token secret for match response links (optional, falls back to NEXTAUTH_SECRET)
# Only set if you want a separate secret for email link tokens
# TOKEN_SECRET="your-token-secret-change-this-in-production"

# Your production URL (Vercel will provide this after first deploy)
# For first deploy, use your expected domain like: https://yourapp.vercel.app
# You can also leave this out and Vercel will auto-set it
NEXTAUTH_URL="https://yourapp.vercel.app"

# ==================================
# üî¥ REQUIRED - Google OAuth
# ==================================
# Get these from: https://console.cloud.google.com/apis/credentials
# Make sure to add this authorized redirect URI in Google Console:
#   https://yourapp.vercel.app/api/auth/callback/google
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ==================================
# üî¥ REQUIRED - Email (for Magic Link Authentication)
# ==================================
# SMTP settings are REQUIRED for magic link sign-in to work
# Without these, students cannot sign in via email
#
# For Gmail:
# 1. Enable 2-factor authentication: https://myaccount.google.com/security
# 2. Generate App Password: https://myaccount.google.com/apppasswords
# 3. Use the 16-character app password as EMAIL_PASS
#
# For other providers (SendGrid, Mailgun, AWS SES):
# - Use their SMTP host and credentials
# - Ensure the "from" address is verified with the provider
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT="587"
EMAIL_USER="your-email@gmail.com"
EMAIL_PASS="your-gmail-app-password"
EMAIL_FROM="TourWiseCo <noreply@yourapp.com>"
CONTACT_EMAIL="support@yourapp.com"  # Defaults to EMAIL_FROM if not set

# ==================================
# üü° OPTIONAL - Redis Cache
# ==================================
# If not set, app uses database fallback (slower but functional)
# For Vercel: Use Vercel KV (recommended) or Upstash Redis
# REDIS_URL="redis://default:password@hostname:port"

# ==================================
# üü° OPTIONAL - App Configuration
# ==================================
# Base URL for email links and redirects
# Can fall back to NEXTAUTH_URL if not set
# NEXT_PUBLIC_BASE_URL="https://yourapp.vercel.app"

# ==================================
# üü¢ OPTIONAL - Defaults Provided
# ==================================
# Only set these if you want to override defaults

# Verification code expiry in seconds (default: 600 = 10 minutes)
# VERIFICATION_CODE_EXPIRY="600"

# Discovery fee amount (default: 99.00)
# DISCOVERY_FEE_AMOUNT="99.00"

# ==================================
# üîµ AUTO-SET BY VERCEL
# ==================================
# These are automatically set by Vercel - DO NOT manually set them
# NODE_ENV="production"
# VERCEL_URL="yourapp.vercel.app"

# ==================================
# üîµ ADMIN PANEL (Optional)
# ==================================
# Only needed if you plan to use the admin panel
# JWT_SECRET="your-jwt-secret-for-admin-auth"

# ==================================
# üìö DETAILED DOCUMENTATION
# ==================================
# For comprehensive guide on build-time vs runtime requirements,
# troubleshooting, and security best practices, see:
# - VERCEL_ENV_VARIABLES_GUIDE.md (detailed guide)
# - .env.example (development template with all options)
